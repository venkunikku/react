import React from 'react'
import { render } from 'react-dom'
import fetch from 'isomorphic-fetch'

var dt = {"sprs":{"graphsData":[{"description":"","label":"SPRS Revenues between-2017-08-26 to 2017-09-25","color":"#CA2E2E","data":[[1503723600000,50323],[1503810000000,55063],[1503896400000,68754],[1503982800000,68407],[1504069200000,60213],[1504155600000,65101],[1504242000000,71891],[1504328400000,100848],[1504414800000,41968],[1504501200000,79520],[1504587600000,74418],[1504674000000,39855],[1504760400000,64679],[1504846800000,53258],[1504933200000,71671],[1505019600000,52340],[1505106000000,71520],[1505192400000,45125],[1505278800000,59902],[1505365200000,93847],[1505451600000,90216],[1505538000000,79273],[1505624400000,77564],[1505710800000,87015],[1505797200000,82154],[1505883600000,85622],[1505970000000,93504],[1506056400000,79744],[1506142800000,58992],[1506229200000,68298]]},{"description":"","label":"SPRS Revenues 52 weeks Prior- 2016-08-27 to 2016-09-26","color":"#CA2E2E","data":[[1503723600000,160710],[1503810000000,137694],[1503896400000,147852],[1503982800000,125848],[1504069200000,161188],[1504155600000,174998],[1504242000000,164821],[1504328400000,174105],[1504414800000,138268],[1504501200000,233413],[1504587600000,190096],[1504674000000,133326],[1504760400000,100869],[1504846800000,110400],[1504933200000,88134],[1505019600000,62635],[1505106000000,113188],[1505192400000,78167],[1505278800000,108580],[1505365200000,171340],[1505451600000,189354],[1505538000000,178017],[1505624400000,138363],[1505710800000,185720],[1505797200000,159006],[1505883600000,105501],[1505970000000,106546],[1506056400000,86833],[1506142800000,103593],[1506229200000,91775],[1506315600000,86319]]}],"ticks":30,"minDate":1503723600000,"maxDate":1506315600000,"totalRecords":0}}

class Root extends React.Component{
	

	constructor(props){
		super(props)
		this.state={
			sprsLoading:false,
			res:'',
			res1:''
		}
	}

	// After the render menthod is called this method will be activated
	componentDidMount(){
		
		this.setState({sprsLoading:true})
		fetch('http://outlet3.dev.ch3.s.com/d/dashboard/service/sprs/2017-8-26/2017-9-25')
		.then(response => response.json())
		.then(res=> this.setState({res: res, sprsLoading:false})) 
		
		this.setState({res1: dt})
		
		}

	render(){

		const {res, res1, sprsLoading} = this.state
		
		return (
				(sprsLoading) ?
				<div> Loading Country List </div> :
				<div>
				<p> {typeof res1.sprs } </p>

				</div>

			)
	}

}

render(
		<Root />,
		document.getElementById('react-container')
	)